function FullPage(e){function t(e,t,n,a){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(a-t)-this.cy,this.ay=1-this.cy-this.by}var n,a,i,r,s,o,c,u,l,f,m,p,d,v,h,x,T,g,w,y,b,D,k=document.getElementById(e.id),E=k.children,N=E.length,O=N,X=e.slideTime||800,L=e.effect||{},M=0,Z=[],C=[],Y=null,A=!1,I=!1;if(E&&1!==N){for(e.mode&&(I=-1!==e.mode.indexOf("nav:"),C=e.mode.split(","),f=C.length),d=0;N>d;d++)Z.push(E[d].style);if(n=!!window.addEventListener,a="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,function(){var e,t=navigator.userAgent,n=t.indexOf("Android");return v=-1!==t.indexOf("QQBrowser")?200:0,-1!==n&&(e=t.substring(n+7,n+11).replace(" ","")),e||0}(),i=function(e){switch(!0){case""===e.webkitTransition:return"webkit";case""===e.MozTransition:return"Moz";case""===e.msTransition:return"ms";case""===e.OTransition:return"O";default:return""}}(document.createElement("Chriswang").style),t.prototype={epsilon:1e-5,sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){var n,a,i,r;for(i=e,a=0;8>a;a++){if(r=this.sampleCurveX(i)-e,Math.abs(r)<t)return i;if(n=this.sampleCurveDerivativeX(i),Math.abs(n)<t)break;i-=r/n}if(n=0,a=1,i=e,n>i)return n;if(i>a)return a;for(;a>n&&(r=this.sampleCurveX(i),!(Math.abs(r-e)<t));)e>r?n=i:a=i,i=.5*(a-n)+n;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},h=function(){r=document.documentElement.clientWidth||window.innerWidth,s=document.documentElement.clientHeight||window.innerHeight,k.style.height=s+"px"},d=function(e,t,n,a){o=e,c=t,u=n,l=a},"string"==typeof e.easing)switch(e.easing){case"ease":d(.25,.1,.25,1);break;case"linear":d(0,0,1,1);break;case"ease-in":d(.42,0,1,1);break;case"ease-out":d(0,0,.58,1);break;case"ease-in-out":d(.42,0,.58,1)}else d(e.easing[0],e.easing[1],e.easing[2],e.easing[3]);if(""!==i){for(;O--;)Z[O][i+"TransitionTimingFunction"]="cubic-bezier("+o+","+c+","+u+","+l+")";x=function(e,t,n,a,r){e=e.style,t="translate("+t+"px,"+n+"px) translateZ(0)",r.scale&&(t+=0===a?" scale("+r.scale[0]+")":" scale("+r.scale[1]+")"),r.rotate&&(t+=0===a?" rotate("+r.rotate[0]+"deg)":" rotate("+r.rotate[1]+"deg)"),e[i+"TransformOrigin"]="50% 50%",e[i+"Transform"]=t}}else p=new t(o,c,u,l),x=function(e,n,a,i){var r,s=e.currentStyle,o=e.style,c=parseInt(o.left||s.left,10),u=parseInt(o.top||s.top,10),l=n-c,f=a-u,m=+new Date+i,d=0,v=L.opacity;clearInterval(Y),Y=setInterval(function(){var e;+new Date>m?(e=v?"left:"+n+"px;top:"+a+"px;filter:alpha(opacity="+100*v[1]+");":"left:"+n+"px;top:"+a+"px;",clearInterval(Y)):(r=m-new Date,d=r/i,d=p.solve(1-d,t.prototype.epsilon),e="left:"+(c+l*d)+"px;top:"+(u+f*d)+"px;",v&&(e+="filter:alpha(opacity="+100*(v[1]*d-v[0]*(1-d))+");")),o.cssText=e},13)};for(T={transform:function(e,t,n){var a=0,o=""!==i||"none"!==e.translate&&e.translate?v:-50;switch(e.translate){case"Y":a=n>t?s:-s,x(E[n],0,a,0,e);break;case"X":a=n>t?r:-r,x(E[n],a,0,0,e);break;case"XY":a={X:n>t?r:-r,Y:n>t?s:-s},x(E[n],a.X,a.Y,0,e);break;default:x(E[n],0,0,0,e)}setTimeout(function(){x(E[n],0,0,X,e)},o+50)},opacity:function(e,t,n){var a=E[n].style;a.opacity=e[0],setTimeout(function(){a.opacity=e[1]},70)}},g=n&&a?navigator.userAgent.indexOf("Firefox")?function(e,t){e.addEventListener("click",t,!1)}:function(e,t,n){e.addEventListener("touchstart",t,!1),n&&e.addEventListener("touchmove",function(e){e.preventDefault()},!1)}:function(e,t){e.onclick=t},w=function(e,t,n){var a=e.className,i=[];if(-1!==a.indexOf(t)){for(i=a.split(" "),a=i.length;a--;)i[a]===t&&(" "===n||""===n?i.splice(a,1):i[a]=n);i.length?e.className=i.join(" "):(e.removeAttribute("class"),e.removeAttribute("className"))}},I&&(b=function(e,t){var n=m[t].className;w(m[e],"active"," "),m[t].className=""===n?"active":n+" active"}),y=function(t){var n,a,r=v;if(!(A||t===M||t>=N||0>t)){A=!0;for(a in L)T[a](L[a],M,t);r+=""===i?20:0,n=M,M=t,I&&b(n,M),setTimeout(function(){E[t].className+=" slide"},r),setTimeout(function(){Z[t][i+"TransitionDuration"]=X+"ms"},20),setTimeout(function(){w(E[n],"current",""),w(E[M],"slide","current"),e.callback&&e.callback(M,E[M]),A=!1},X+v+120)}},h(),d=E[M].className,E[M].className=-1!==d.indexOf("current")?d:d+" current",n?window.addEventListener("resize",h,!1):window.onresize=h;f--;)(function(t){switch(!0){case"wheel"===t:D=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1,A||(e=-e.wheelDelta||e.detail,y(M+(0>e?-1:1)))},n&&document.addEventListener("DOMMouseScroll",D,!1),window.onmousewheel=document.onmousewheel=D;break;case"touch"===t:if(!a||!n)break;!function(){var t,n,a,o,c,u,l,f,m,p,d,v,h=L.transform.scale[0],x=L.transform.scale[1]-h,T=L.transform.rotate[0],g=L.transform.rotate[1]-T,y=L.opacity[0],D=L.opacity[1]-y,O={},C=!1;"Y"===L.transform.translate?(f=function(){u=Z[M-1],l=Z[M+1],u&&(u[i+"TransitionDuration"]="0ms",u[i+"Transform"]="translate(0,-"+s+"px) translateZ(0)",u[i+"TransformOrigin"]="50% 100%",E[M-1].className+=" swipe"),l&&(l[i+"TransitionDuration"]="0ms",l[i+"Transform"]="translate(0,"+s+"px) translateZ(0)",l[i+"TransformOrigin"]="50% 0%",E[M+1].className+=" swipe")},d=function(e){var t=Math.abs(e.y/s),n=" scale("+(h+x*t)+") rotate("+(T+g*t)+"deg)";u&&0<e.y&&(u.opacity=y+D*t,u[i+"Transform"]="translate(0,"+(e.y-s)+"px) translateZ(0)"+n),l&&0>e.y&&(l.opacity=y+D*t,l[i+"Transform"]="translate(0,"+(s+e.y)+"px) translateZ(0)"+n)},m=function(e,t){var n=X>>1;w(E[M+t],"swipe","slide"),e.opacity=1,e[i+"TransitionDuration"]=n+"ms",e[i+"Transform"]="translate(0,"+t*s+"px) translateZ(0)",setTimeout(function(){w(E[M+t],"slide",""),setTimeout(function(){A=!1},50)},n)},p=function(t,n){var a=M+n,r=~~(X/1.5),s=E[M-n];s&&w(s,"swipe",""),0>a||a>N-1?setTimeout(function(){A=!1},50):(I&&b(M,a),t.opacity=1,w(E[a],"swipe","slide"),t[i+"TransitionDuration"]=r+"ms",t[i+"Transform"]="translate(0,0) translateZ(0)",setTimeout(function(){w(E[M],"current",""),w(E[a],"slide","current"),M=a,e.callback&&e.callback(M,E[M]),setTimeout(function(){A=!1},50)},r))}):(f=function(){u=Z[M-1],l=Z[M+1],u&&(u[i+"TransitionDuration"]="0ms",u[i+"Transform"]="translate(-"+r+"px,0) translateZ(0)",u[i+"TransformOrigin"]="100% 50%",E[M-1].className+=" swipe"),l&&(l[i+"TransitionDuration"]="0ms",l[i+"Transform"]="translate("+r+"px,0) translateZ(0)",l[i+"TransformOrigin"]="0 50%",E[M+1].className+=" swipe")},d=function(e){var t=Math.abs(e.x/r),n=" scale("+(h+x*t)+") rotate("+(T+g*t)+"deg)";u&&0<e.x&&(console.log(),u.opacity=y+D*t,u[i+"Transform"]="translate("+(e.x-r)+"px,0) translateZ(0)"+n),l&&0>e.x&&(l.opacity=y+D*t,l[i+"Transform"]="translate("+(r+e.x)+"px,0) translateZ(0)"+n)},m=function(e,t){var n=X>>1;w(E[M+t],"swipe","slide"),e.opacity=1,e[i+"TransitionDuration"]=n+"ms",e[i+"Transform"]="translate("+t*r+"px,0) translateZ(0)",setTimeout(function(){w(E[M+t],"slide",""),setTimeout(function(){A=!1},50)},n)},p=function(t,n){var a=M+n,r=~~(X/1.5),s=E[M-n];s&&w(s,"swipe",""),0>a||a>N-1?setTimeout(function(){A=!1},50):(I&&b(M,a),w(E[a],"swipe","slide"),t.opacity=1,t[i+"TransitionDuration"]=r+"ms",t[i+"Transform"]="translate(0,0) translateZ(0)",setTimeout(function(){w(E[M],"current",""),w(E[a],"slide","current"),M=a,e.callback&&e.callback(M,E[M]),setTimeout(function(){A=!1},50)},r))}),t=function(t){var n=t.touches[0];t.preventDefault(),1<event.touches.length||event.scale&&1!==event.scale||(O={x:n.pageX-a,y:n.pageY-o},C?v&&d(O):(v=Math.abs(O.x)>Math.abs(O.y)?"X":"Y",v=v===e.effect.transform.translate?!0:!1,C=!0))},n=function(i){var f=i.changedTouches[0];i=+new Date-c;var d;d=0;var h=!1;switch(O={x:f.pageX-a,y:f.pageY-o},f=Math.abs(O.x),d=Math.abs(O.y),e.effect.transform.translate){case"Y":h=250>+i&&d>30||d>.3*s,d=0<O.y?-1:1;break;case"X":h=250>+i&&f>30||f>.3*r,d=0<O.x?-1:1;break;default:h=350>+i&&d+f>50||d>.3*s||f>.3*r,d=f>d?0<O.x?-1:1:0<O.y?-1:1}h&&v?-1===d?p(u,-1):p(l,1):(u&&m(u,-1),l&&m(l,1)),k.removeEventListener("touchmove",t,!1),k.removeEventListener("touchend",n,!1)},k.addEventListener("touchstart",function(e){e=e.touches[0],A||(A=!0,a=e.pageX,o=e.pageY,c=+new Date,O={},C=!1,f(),k.addEventListener("touchmove",t,!1),k.addEventListener("touchend",n,!1))},!1)}();break;case-1!==t.indexOf("nav:"):!function(){var e,n,a=t.split(":")[1],a=document.getElementById(a);if(m=a.children,e=m.length,n=m[M].className,a&&m){for(;e--;)m[e].setAttribute("data-page",e);-1===n.indexOf("active")&&(m[M].className=""===n?"active":n+" active"),e=function(e){var t;for(e=e||window.event,e=e.target||e.srcElement,t=e.tagName.toLowerCase();"li"!==t;){if("ul"===t)return;e=e.parentNode,t=e.tagName.toLowerCase()}y(+e.getAttribute("data-page"))},g(a,e,1)}}()}})(C[f]);return{thisPage:function(){return M},go:function(e){y(e)},next:function(){y(M+1)},prev:function(){y(M-1)}}}}